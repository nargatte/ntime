<mat-spinner *ngIf="dataLoaded === false"></mat-spinner>
<mat-card class="center">
  <mat-card-header>
    <mat-card-title>Ustaw nowe hasło</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="card-content">
      <p>
        Wpisz dwukrotnie nowe hasło
      </p>
      <form #resetPasswordForm="ngForm">
        <div class="form-field-container">
          <mat-form-field>
            <input matInput type="password" placeholder="Hasło" name="password" minlength="8" required [(ngModel)]="newPasswordData.NewPassword" #password="ngModel" autocomplete="new-password">
            <mat-error *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
              <div *ngIf="!!password.errors.required; else minEightCharactersTemplate">
                Hasło jest wymagane
              </div>
              <ng-template #minEightCharactersTemplate>
                Hasło musi mieć minimum 8 znaków
              </ng-template>
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <input matInput type="password" placeholder="Powtórz hasło" name="confirmPassword" minlength="8" required [(ngModel)]="confirmedPassword"
              #confirmPassword="ngModel">
            <mat-error *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger">
              <div *ngIf="!!confirmPassword.errors.required; else minEightCharactersConfirmate">
                Powtórzone hasło jest wymagane
              </div>
              <ng-template #minEightCharactersConfirmate>
                Hasło musi mieć minimum 8 znaków
              </ng-template>
            </mat-error>
          </mat-form-field>
        </div>
      </form>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button
      mat-raised-button
      color="primary"
      [disabled]="!!resetPasswordForm.invalid"
      (click)="ButtonClick()"
    >
      Ustaw hasło
    </button>
  </mat-card-actions>
</mat-card>
